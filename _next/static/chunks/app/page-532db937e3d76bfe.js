(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{1360:function(e,i,t){Promise.resolve().then(t.bind(t,7902))},7902:function(e,i,t){"use strict";t.r(i),t.d(i,{default:function(){return k}});var a=t(7437),n=t(2265),r=t(4732),l=t(8396),s=t(124),d=t(7156),x=t(511),o=t(2674),c=t(8027),p=t(6645),h=t(8884),u=t(7116),g=t(6351),j=e=>{let{data:i,selectedPlayer:t,selectedYear:n}=e;if(!t||!n)return(0,a.jsx)(d.Z,{sx:{textAlign:"center",height:"100%"},children:(0,a.jsxs)(x.Z,{variant:"body1",sx:{fontSize:"clamp(12px, 1vw, 16px)"},children:["No data available for ",n," - ",t]})});let r=i.filter(e=>e.Year===n&&e.Player===t);if(0===r.length)return(0,a.jsx)(d.Z,{sx:{textAlign:"center",height:"100%"},children:(0,a.jsxs)(x.Z,{variant:"body1",sx:{fontSize:"clamp(12px, 1vw, 16px)"},children:["No data available for ",n," - ",t]})});let l=Object.keys(r[0]),s=l.filter(e=>e.startsWith("Route %")&&!e.includes("Rank")),j=l.filter(e=>e.startsWith("Success Rate")&&!e.includes("Rank")),f=e=>{let i=e.findIndex(e=>e.includes("Total Routes"));if(i>-1){let[t]=e.splice(i,1);e.push(t)}};return f(s),f(j),(0,a.jsx)(o.Z,{component:c.Z,sx:{height:"100%",textAlign:"center"},children:(0,a.jsx)(p.Z,{sx:{width:300,maxHeight:500},"aria-label":"player data table",children:(0,a.jsxs)(h.Z,{children:[(0,a.jsx)(u.Z,{children:(0,a.jsx)(g.Z,{colSpan:3,align:"center",sx:{padding:"8px"},children:(0,a.jsx)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem"},children:"Selected Player"})})}),(0,a.jsx)(u.Z,{children:(0,a.jsx)(g.Z,{colSpan:3,align:"center",sx:{padding:"8px"},children:(0,a.jsxs)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem"},children:[n," - ",t]})})}),(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(g.Z,{align:"center",sx:{padding:"8px"},children:(0,a.jsx)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem"},children:"Route"})}),(0,a.jsx)(g.Z,{align:"center",sx:{padding:"8px"},children:(0,a.jsx)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem"},children:"Route %"})}),(0,a.jsx)(g.Z,{align:"center",sx:{padding:"8px"},children:(0,a.jsx)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem"},children:"Success Rate"})})]}),s.map((e,i)=>{let t=r[0]["color_".concat(e)],n=r[0]["color_".concat(j[i])];return(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(g.Z,{align:"center",sx:{padding:"8px"},children:(0,a.jsx)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem"},children:e.replace("Route %","")})}),(0,a.jsx)(g.Z,{align:"center",sx:{padding:"2px"},children:(0,a.jsx)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem",display:"inline-block",border:"3px solid ".concat(t),paddingLeft:"5px",paddingRight:"5px"},children:"Route % Total Routes"===e?r[0][e]:"".concat((100*parseFloat(r[0][e])).toFixed(2),"%")})}),(0,a.jsx)(g.Z,{align:"center",sx:{padding:"2px"},children:(0,a.jsx)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem",border:"Route % Total Routes"===e?"none":"3px solid ".concat(n),display:"inline-block",paddingLeft:"5px",paddingRight:"5px"},children:"Route % Total Routes"===e?"":"".concat((100*parseFloat(r[0][j[i]])).toFixed(2),"%")})})]},e)})]})})})},f=e=>{let{data:i,similarPlayers:t=[]}=e,n=(e,t)=>i.filter(i=>i.Year===e&&i.Player===t),r=e=>{let i=e.findIndex(e=>e.includes("Total Routes"));if(i>-1){let[t]=e.splice(i,1);e.push(t)}};return(0,a.jsx)(d.Z,{sx:{display:"flex",flexDirection:"row",flexWrap:"nowrap",gap:2,justifyContent:"flex-start",width:"100%",overflowX:"auto"},children:t.map((e,i)=>{let t=n(e.Similar_Year,e.Similar_Player);if(0===t.length)return(0,a.jsx)(d.Z,{sx:{flex:"0 0 auto",minWidth:"300px",maxWidth:"600px",textAlign:"center"},children:(0,a.jsxs)(x.Z,{variant:"body1",sx:{fontSize:"clamp(12px, 1vw, 16px)"},children:["No data available for ",e.Similar_Year," - ",e.Similar_Player]})},i);let l=Object.keys(t[0]),s=l.filter(e=>e.startsWith("Route %")&&!e.includes("Rank")),j=l.filter(e=>e.startsWith("Success Rate")&&!e.includes("Rank"));return r(s),r(j),(0,a.jsx)(o.Z,{component:c.Z,sx:{flex:"0 0 auto",textAlign:"center",width:300},children:(0,a.jsx)(p.Z,{sx:{width:300,maxHeight:500},"aria-label":"similar player data table",children:(0,a.jsxs)(h.Z,{children:[(0,a.jsx)(u.Z,{children:(0,a.jsx)(g.Z,{colSpan:3,align:"center",sx:{padding:"8px"},children:(0,a.jsxs)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem"},children:["Similar Player ",e.Similarity_Rank," - ",(100*parseFloat(e.Similarity_Score)).toFixed(2),"%"]})})}),(0,a.jsx)(u.Z,{children:(0,a.jsx)(g.Z,{colSpan:3,align:"center",sx:{padding:"8px"},children:(0,a.jsxs)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem"},children:[e.Similar_Year," - ",e.Similar_Player]})})}),(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(g.Z,{align:"center",sx:{padding:"8px"},children:(0,a.jsx)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem"},children:"Route"})}),(0,a.jsx)(g.Z,{align:"center",sx:{padding:"8px"},children:(0,a.jsx)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem"},children:"Route %"})}),(0,a.jsx)(g.Z,{align:"center",sx:{padding:"8px"},children:(0,a.jsx)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem"},children:"Success Rate"})})]}),s.map((e,i)=>{let n=t[0]["color_".concat(e)],r=t[0]["color_".concat(j[i])];return(0,a.jsxs)(u.Z,{children:[(0,a.jsx)(g.Z,{align:"center",sx:{padding:"8px"},children:(0,a.jsx)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem"},children:e.replace("Route %","")})}),(0,a.jsx)(g.Z,{align:"center",sx:{padding:"2px"},children:(0,a.jsx)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem",display:"inline-block",border:"3px solid ".concat(n),paddingLeft:"5px",paddingRight:"5px"},children:"Route % Total Routes"===e?t[0][e]:"".concat((100*parseFloat(t[0][e])).toFixed(2),"%")})}),(0,a.jsx)(g.Z,{align:"center",sx:{padding:"2px"},children:(0,a.jsx)(x.Z,{variant:"body2",sx:{fontSize:"0.875rem",border:"Route % Total Routes"===e?"none":"3px solid ".concat(r),display:"inline-block",paddingLeft:"5px",paddingRight:"5px"},children:"Route % Total Routes"===e?"":"".concat((100*parseFloat(t[0][j[i]])).toFixed(2),"%")})})]},e)})]})})},i)})})},Z=t(4165),m=t(6065),y=t(9418),b=t(5870),S=t(6548),v=e=>{let{data:i,onFilter:t}=e,[r,l]=(0,n.useState)([]),[s,d]=(0,n.useState)([]),[x,o]=(0,n.useState)(""),[c,p]=(0,n.useState)("");return(0,n.useEffect)(()=>{let e=[...new Set(i.map(e=>e.Year))];e.sort((e,i)=>parseInt(i)-parseInt(e)),l(e)},[i]),(0,n.useEffect)(()=>{x?d([...new Set(i.filter(e=>e.Year===x).map(e=>e.Player))]):d([])},[x,i]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(Z.Z,{variant:"outlined",style:{minWidth:120,minHeight:50,marginRight:10},children:[(0,a.jsx)(m.Z,{children:"Year"}),(0,a.jsxs)(y.Z,{value:x,onChange:e=>o(e.target.value),label:"Year",children:[(0,a.jsx)(b.Z,{value:"",children:(0,a.jsx)("em",{children:"None"})}),r.map(e=>(0,a.jsx)(b.Z,{value:e,children:e},e))]})]}),(0,a.jsxs)(Z.Z,{variant:"outlined",style:{minWidth:200,minHeight:50,marginRight:10,marginBottom:10},children:[(0,a.jsx)(m.Z,{children:"Player"}),(0,a.jsxs)(y.Z,{value:c,onChange:e=>p(e.target.value),label:"Player",disabled:!x,children:[(0,a.jsx)(b.Z,{value:"",children:(0,a.jsx)("em",{children:"None"})}),s.map(e=>(0,a.jsx)(b.Z,{value:e,children:e},e))]})]}),(0,a.jsx)(S.Z,{variant:"contained",color:"primary",style:{minHeight:50,marginRight:10,marginTop:2},onClick:()=>{let e=i;x&&(e=e.filter(e=>e.Year===x)),c&&(e=e.filter(e=>e.Player===c)),t(e,x,c)},disabled:!x||!c,children:"Apply"})]})},R=e=>(0,a.jsx)(d.Z,{...e,sx:{...e.sx,overflowY:"auto","&::-webkit-scrollbar":{width:"0.4em"},"&::-webkit-scrollbar-track":{boxShadow:"inset 0 0 6px rgba(0,0,0,0.00)",webkitBoxShadow:"inset 0 0 6px rgba(0,0,0,0.00)"},"&::-webkit-scrollbar-thumb":{backgroundColor:"rgba(0,0,0,.1)",outline:"1px solid slategrey"}},children:e.children});let w=(0,r.Z)({palette:{mode:"dark",background:{default:"#121212",paper:"#1d1d1d"},text:{primary:"#ffffff",secondary:"#aaaaaa"}}});var k=()=>{let[e,i]=(0,n.useState)({players:[],similarPlayers:[]}),[t,r]=(0,n.useState)([]),[x,o]=(0,n.useState)(!1),[c,p]=(0,n.useState)(""),[h,u]=(0,n.useState)("");return(0,n.useEffect)(()=>{(async()=>{let e=await fetch("/api/googleSheets"),t=await e.json();(t.players.length>0||t.similarPlayers.length>0)&&i(t)})()},[]),(0,a.jsxs)(l.Z,{theme:w,children:[(0,a.jsx)(s.ZP,{}),(0,a.jsxs)(R,{sx:{paddingTop:"16px",paddingX:"16px"},children:[(0,a.jsx)(v,{data:e.players,onFilter:(e,i,t)=>{r(e),p(i),u(t),o(!0)}}),x&&t.length>0&&(0,a.jsxs)(d.Z,{sx:{width:"100%",display:"flex",flexDirection:{xs:"column",md:"row"},gap:2},children:[(0,a.jsx)(d.Z,{sx:{flex:"0 0 auto",minWidth:"300px",maxWidth:"500px",textAlign:"center"},children:(0,a.jsx)(j,{data:e.players,selectedYear:c,selectedPlayer:h})}),(0,a.jsx)(d.Z,{sx:{flexGrow:1,overflowX:"auto"},children:(0,a.jsx)(f,{data:e.players,similarPlayers:e.similarPlayers.filter(e=>e.Player===h&&e.Year===c)})})]})]})]})}}},function(e){e.O(0,[181,971,23,744],function(){return e(e.s=1360)}),_N_E=e.O()}]);